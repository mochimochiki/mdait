# UI層設計

## 概要

VS Code拡張機能のユーザーインターフェース要素を担当する層です。ステータス表示、コマンド実行、ユーザーとの対話など、視覚的なフィードバックとインタラクション機能を提供します。

## 主要コンポーネント

### ステータスツリープロバイダー
mdaitのステータス情報をVS Codeのツリービューとして表示します。

**表示内容：**
- ディレクトリ・ファイル・ユニット階層の表示
- 翻訳ステータス（need:translate、need:reviewなど）の視覚化
- 進捗情報と統計の表示
- コンテキストメニューによる操作

**データソース：** [core.md](core.md)のStatusItem構造

### コマンドインターフェース
ユーザーが実行可能なコマンドのUI統合を提供します。

**提供機能：**
- コマンドパレットからの実行
- ツリービューのコンテキストメニュー
- ツールバーボタンとアイコン
- 進行状況の表示

## 設計原則

- **VS Code統合**: VS Codeの標準UIパターンに準拠
- **リアルタイム更新**: ステータス変更の即座な反映
- **操作性**: 直感的で効率的なユーザー操作
- **視覚的フィードバック**: 処理状況の明確な表示

## StatusItemとUI表示の連携

[core.md](core.md)で定義されたStatusItem構造を以下のようにUI表示に変換：

- **type: "directory"** → フォルダーアイコンと展開/折りたたみ機能
- **type: "file"** → ファイルアイコンと進捗表示
- **type: "unit"** → ユニットアイコンとneedフラグの視覚化

## 国際化対応

**多言語対応：**
- l10nシステムの活用
- 日本語・英語の完全サポート
- メッセージとラベルの外部化

**参照：** `/l10n` ディレクトリの言語リソース

## 関連モジュールとの連携

- **commands層**: コマンド実行時のUI操作とフィードバック
- **core層**: StatusItem構造の表示とステータス監視
- **config層**: UI設定とユーザー設定の反映

## 参考

- [ルート設計書](design.md) - 全体アーキテクチャ
- [core.md](core.md) - StatusItem構造とステータス管理
- [commands.md](commands.md) - UI連携するコマンド実装