# ワークフローとガイドライン

## 開発フロー

### 設計フェーズ
1. 実装に十分な明確な指示がない場合、まず設計を行う
2. `design/design.md`を参照して関連事項を確認
3. ユーザーと対話しながら設計を進める
4. 設計の概要をチャットに出力（コードは必要最小限）
5. 方針・骨子がまとまったら`design/`の適切なファイルを修正
6. 作業チケットが必要な場合、`tasks/do/`に新規ファイルを作成しユーザー承認を得る
7. プロンプト関連の設計は`design/prompt.md`に反映

### 実装フェーズ
1. ユーザーから実装の承認を得る
2. 既存のコード構造を確認して周りのコードにスタイルを合わせる
3. `design/`や`tasks/do/<作業名>.md`を参照して設計に従う
4. 実装完了時には`tasks/do`から`tasks/done`にファイルを移動
5. 設計との整合性チェックを行う

### テストフェーズ
1. テスト実装前に`design/test.md`を参照
2. 周りのコードにスタイルを合わせる
3. 骨格となる重要なテストケースを厳選して実装
4. `npm test`でテスト実行

## 作業チケットフォーマット
```markdown
# 作業チケット: <作業名>

## 1. 概要と方針
（概要と方針を1-3文で簡潔に記載）

## 2. シーケンス図
（mermaidシーケンス図を使用。重要な処理を明示。適宜rectによるフェーズ分け）

## 3. 考慮事項
（特に注意が必要な点や考慮すべき点、チェックすべき影響範囲などを記載）

## 4. 実装計画と進捗
（実装項目の細目を以下のタスクの形で記載。実装後にチェックをつけていく）
- [ ] <未完了タスク名>
- [x] <完了タスク名>
```

## タスク完了時のチェックリスト
1. Lintを実行（`npm run lint`）
2. 関連テストを実行（`npm test`または`npm run test:vscode`）
3. 設計ドキュメントとの整合性確認
4. 作業チケットを`tasks/do`から`tasks/done`に移動
