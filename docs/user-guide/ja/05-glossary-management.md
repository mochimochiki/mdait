# 用語集管理

このセクションでは、mdaitの用語集機能について説明します。用語集により、翻訳の一貫性を保ち、専門用語を正確に翻訳できます。

## 用語集の概要

### 用語集の役割

用語集は、翻訳において以下の役割を果たします：

- **一貫性の確保**: 同じ用語が常に同じ訳語で翻訳される
- **専門用語の正確性**: ドメイン固有の用語を適切に翻訳
- **翻訳品質の向上**: AIが用語集を参照することで、より正確な翻訳を生成

### 用語集ファイル

用語集は、ワークスペースの`.mdait/terms.csv`ファイルに格納されます。CSV形式で、以下の構造を持ちます：

```csv
en,ja,de,context
Markdown AI Translator,Markdown AI翻訳ツール,Markdown AI-Übersetzer,
unit,ユニット,Einheit,
sync,同期,Synchronisierung,
translation,翻訳,Übersetzung,
```

#### CSVファイルの構造

- **言語列**: 各言語での訳語
- **context列**: 用語の使用コンテキスト(例文)

✏`mdait.json`で`primaryLang`で指定された言語が最初の列になります。

## 用語集の作成

### 用語検出

mdaitビューのAIを使用して原文から重要な用語を自動抽出できます。

### 用語展開（翻訳の反映）

既存の翻訳から用語の訳語を抽出し、用語集に展開できます。

## 用語集の活用

### 翻訳時の自動適用

翻訳実行時、mdaitは以下の処理を行います：

1. **該当用語の抽出**: 翻訳対象ユニットに出現する用語集の用語を特定
2. **プロンプトへの追加**: 該当用語とその訳語をAIプロンプトに含める
3. **訳語の尊重**: AIが用語集の訳語を使用して翻訳

### 用語集追加候補

翻訳実行後、AIが以下の用語を推奨する場合があります：

- **新規の重要用語**: 原文に含まれるが用語集にない専門用語
- **訳語の提案**: 検出された用語に対する適切な訳語

これらの候補は翻訳サマリのホバー表示に表示されます：

```
用語集追加候補:
- continuous integration: 継続的インテグレーション
- deployment: デプロイ
```

候補をクリックすると、用語集に追加できます。

## 用語集の編集

### 直接編集

`terms.csv`ファイルを直接編集できます：

編集時の注意点：

- ヘッダー行を維持する
- CSVフォーマットを正しく保つ（カンマ区切り、改行処理）
- 用語にカンマが含まれる場合、クォートで囲む

**注意**: 保存時に文字エンコーディング（UTF-8）が維持されるよう確認してください。

## 用語集の設計

### 効果的な用語集の作成

#### 用語の選定基準

以下のような用語を用語集に含めることを推奨します：

- **専門用語**: ドメイン固有の技術用語
- **製品名・サービス名**: 固有名詞
- **重要な概念**: プロジェクトの中核となる概念
- **頻出用語**: ドキュメント全体で頻繁に使用される用語

#### 用語集に含めないもの

以下のような用語は通常、用語集に含める必要がありません：

- **一般的な単語**: 日常的に使用される基本単語
- **文脈依存の表現**: 文脈によって訳が変わる表現
- **動詞・形容詞（一部を除く）**: 通常は名詞・名詞句を優先

## 次のステップ

[次の章](06-advanced-features.md)では、mdaitの高度な機能について説明します。
